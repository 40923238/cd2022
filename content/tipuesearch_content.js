var tipuesearch = {"pages": [{'title': 'About', 'text': 'cmsimde_site \n', 'tags': '', 'url': 'About.html'}, {'title': '全班網頁', 'text': '\n \n \n 2b \n ハイパーリンク \n グループ \n 2a \n ハイパーリンク \n グループ \n \n \n 40723134 \n 40723134 \n 7 \n 40623143 \n 40623143 \n 7 \n \n \n 40723136 \n 40723136 \n 7 \n 40823132 \n 40823132 \n 7 \n \n \n 40723217 \n 40723217 \n 6 \n 40823143 \n 40823143 \n 7 \n \n \n 40732331 \n 40732331 \n 7 \n 40923101 \n 40923101 \n 1 \n \n \n 40823215 \n 40823215 \n 2 \n 40923102 \n 40923102 \n 2 \n \n \n 40923201 \n 40923201 \n 1 \n 40923103 \n 40923103 \n 1 \n \n \n 40923203 \n 40923203 \n 2 \n 40923104 \n 40923104 \n 2 \n \n \n 40923204 \n 40923204 \n 2 \n 40923105 \n 40923105 \n 2 \n \n \n 40923205 \n 40923205 \n 1 \n 40923106 \n 40923106 \n 2 \n \n \n 40923206 \n 40923206 \n 3 \n 40923107 \n 40923107 \n 2 \n \n \n 40923207 \n 40923207 \n 2 \n 40923108 \n 40923108 \n 1 \n \n \n 40923208 \n 40923208 \n 1 \n 40923109 \n 40923109 \n 3 \n \n \n 40923209 \n 40923209 \n 2 \n 40923110 \n 40923110 \n 2 \n \n \n 40923210 \n 40923210 \n 1 \n 40923111 \n 40923111 \n 3 \n \n \n 40923211 \n 40923211 \n 4 \n 40923113 \n 40923113 \n 6 \n \n \n 40923212 \n 40923212 \n 5 \n 40923114 \n 40923114 \n 3 \n \n \n 40923213 \n 40923213 \n 2 \n 40923115 \n 40923115 \n 3 \n \n \n 40923214 \n 40923214 \n 7 \n 40923116 \n 40923116 \n 4 \n \n \n 40923216 \n 40923216 \n 7 \n 40923117 \n 40923117 \n 7 \n \n \n 40923217 \n 40923217 \n 1 \n 40923118 \n 40923118 \n 7 \n \n \n 40923218 \n 40923218 \n 4 \n 40923119 \n 40923119 \n 1 \n \n \n 40923219 \n 40923219 \n 6 \n 40923120 \n 40923120 \n 7 \n \n \n 40923220 \n 40923220 \n 2 \n 40923121 \n 40923121 \n 7 \n \n \n 40923221 \n 40923221 \n 4 \n 40923122 \n 40923122 \n 3 \n \n \n 40923223 \n 40923223 \n 4 \n 40923123 \n 40923123 \n 5 \n \n \n 40923224 \n 40923224 \n 3 \n 40923124 \n 40923124 \n 4 \n \n \n 40923225 \n 40923225 \n 6 \n 40923125 \n 40923125 \n 4 \n \n \n 40923226 \n 40923226 \n 3 \n 40923126 \n 40923126 \n 4 \n \n \n 40923227 \n 40923227 \n 4 \n 40923127 \n 40923127 \n 4 \n \n \n 40923228 \n 40923228 \n 7 \n 40923128 \n 40923128 \n 4 \n \n \n 40923229 \n 40923229 \n 5 \n 40923129 \n 40923129 \n 3 \n \n \n 40923230 \n 40923230 \n 1 \n 40923130 \n 40923130 \n 6 \n \n \n 40923231 \n 40923231 \n 1 \n 40923131 \n 40923131 \n \n \n \n 40923232 \n 40923232 \n 6 \n 40923133 \n 40923133 \n 5 \n \n \n 40923233 \n 40923233 \n 5 \n 40923134 \n 40923134 \n 5 \n \n \n 40923234 \n 40923234 \n 5 \n 40923135 \n 40923135 \n 5 \n \n \n 40923235 \n 40923235 \n 1 \n 40923136 \n 40923136 \n 7 \n \n \n 40923236 \n 40923236 \n 6 \n 40923137 \n 40923137 \n 1 \n \n \n 40923237 \n 40923237 \n 5 \n 40923138 \n 40923138 \n \n \n \n 40923238 \n 40923238 \n 4 \n 40923139 \n 40923139 \n 5 \n \n \n 40923240 \n 40923240 \n 2 \n 40923140 \n 40923140 \n 6 \n \n \n 40923241 \n 40923241 \n 6 \n 40923142 \n 40923142 \n 5 \n \n \n 40923242 \n 40923242 \n 3 \n 40923143 \n 40923143 \n 7 \n \n \n 40923243 \n 40923243 \n 4 \n 40923144 \n 40923144 \n 6 \n \n \n 40923245 \n 40923245 \n 3 \n 40923145 \n 40923145 \n 7 \n \n \n 40923246 \n 40923246 \n 6 \n 40923146 \n 40923146 \n 3 \n \n \n 40923247 \n 40923247 \n 3 \n 40923147 \n 40923147 \n 7 \n \n \n 40923248 \n 40923248 \n 7 \n 40923148 \n 40923148 \n 3 \n \n \n 40923249 \n 40923249 \n 3 \n 40923149 \n 40923149 \n 6 \n \n \n 40923250 \n 40923250 \n 6 \n 40923150 \n 40923150 \n 6 \n \n \n 40923251 \n 40923251 \n 5 \n 40923151 \n 40923151 \n 5 \n \n \n 40923252 \n 40923252 \n 3 \n 40923152 \n 40923152 \n 6 \n \n \n 40923253 \n 40923253 \n 5 \n 40923153 \n 40923153 \n 7 \n \n \n 40971220 \n 40971220 \n 5 \n 40923154 \n 40923154 \n 1 \n \n \n \n \n \n 40923156 \n 40923156 \n 1 \n \n \n \n \n \n 40923157 \n 40923157 \n \n \n \n \n \n \n 40971134 \n 40971134 \n 1 \n \n \n \n RUN \n \n \n  for ggame  \n \n \n \n \n \n \n \n \n  Cango 程式庫  \n \n \n \n \n \n \n \n \n  for Konva 程式庫  \n \n \n \n \n  導入 FileSaver 與 filereader  \n \n \n \n \n  導入 ace  \n \n \n \n \n \n \n  請注意, 這裡使用 Javascript 將 localStorage["py_src"] 中存在近端瀏覽器的程式碼, 由使用者決定存檔名稱 \n \n \n \n grp2a_2022 grp_2022 \n  ######################  editor1 開始 ######################  \n  用來顯示程式碼的 editor 區域  \n \n  以下的表單與按鈕與前面的 Javascript doSave 函式以及 FileSaver.min.js 互相配合  \n  存擋表單開始  \n Filename:  .py   \n  存擋表單結束  \n \n  執行與清除按鈕開始  \n Run   Output   清除輸出區 清除繪圖區 Reload \n  執行與清除按鈕結束  \n \n  程式執行 ouput 區  \n \n', 'tags': '', 'url': '全班網頁.html'}, {'title': 'HomeWork', 'text': '', 'tags': '', 'url': 'HomeWork.html'}, {'title': 'W3', 'text': 'step26 \n \n  Brython 程式執行的結果, 都以 brython_div 作為切入位置  \n  這裡的畫布 id 為 brython_div  \n  graphics-column is for ggame  \n \n  ######################  editor1 結束 ######################  \n  以下可以開始利用 editor1 的設定編寫對應 Brython 程式  \n \n  以上為內建程式, 頁面可透過 ?src=gist_url 執行  \n  add 1 to 100 開始  \n \n \n step27 \n \n \n \n \n   \n \n \n \n \n \n \n \n \n step28 \n \n \n \n \n   \n \n \n \n \n \n \n \n \n step29 \n \n \n \n \n   \n \n \n \n \n \n \n \n \n step30 \n \n \n \n \n   \n \n \n \n \n', 'tags': '', 'url': 'W3.html'}, {'title': 'W6', 'text': '', 'tags': '', 'url': 'W6.html'}, {'title': 'W7', 'text': '\n 主要關節2 \n \n \n \n \n   \n \n \n \n \n \n \n \n \n 主要關節2貼紙 \n \n \n \n \n   \n \n \n \n \n \n \n \n \n 右側曲柄 \n \n \n \n \n   \n \n \n \n \n \n \n \n \n 右側連趕 \n \n \n \n \n   \n \n \n \n \n \n \n \n \n 左側連趕 \n \n \n \n \n   \n \n \n \n \n \n \n \n \n 末端PCB \n \n \n \n \n   \n \n \n \n \n \n \n \n \n 末端連趕 \n \n \n \n \n   \n \n \n', 'tags': '', 'url': 'W7.html'}, {'title': 'W10', 'text': '', 'tags': '', 'url': 'W10.html'}, {'title': 'w10_block_ui', 'text': 'w10_block_ui \n \n \n \n \n   \n \n \n \n \n \n \n \n', 'tags': '', 'url': 'w10_block_ui.html'}, {'title': 'online', 'text': '', 'tags': '', 'url': 'online.html'}, {'title': 'STL', 'text': 'w13_1: \n \n w13_2: \n \n w13_3: \n \n w13_4: \n \n w13_5: \n \n w13_ALL: \n \n', 'tags': '', 'url': 'STL.html'}, {'title': '控制碼', 'text': 'function sysCall_init()\n    -- Check if the required plugin (simExtMTB.dll) is there:\n    moduleName=0\n    moduleVersion=0\n    index=0\n    MTBModuleFound=false\n    while moduleName do\n        moduleName,moduleVersion=sim.getModuleName(index)\n        if (moduleName==\'MTB\') then\n            MTBModuleFound=true\n        end\n        index=index+1\n    end\n    if (MTBModuleFound==false) then\n        sim.addLog(sim.verbosity_scripterrors,\'\\\'MTB\\\' plugin was not found. (simExtMTB.dll, libsimExtMTB.dylib or libsimExtMTB.so). Simulation will not run properly\')\n    end\n    -- Get some object handles that are required later:\n    robotHandle=sim.getObject(\'.\')\n    jointHandles={-1,-1,-1,-1}\n    for i=1,4,1 do\n        jointHandles[i]=sim.getObject(\'./axis\',{index=i-1})\n    end\n    robotName=sim.getObjectAlias(sim.getObject(\'.\'),1)\n    collisionMessageID=-1\n    compilErrorMessageID=-1\n    dfltButProp=sim.buttonproperty_button+sim.buttonproperty_horizontallycentered+sim.buttonproperty_staydown+sim.buttonproperty_verticallycentered\n    jointPositions={0,0,0,0}\n    for i=1,4,1 do\n        jointPositions[i]=sim.getJointPosition(jointHandles[i]) -- the initial joint positions\n    end\n    restarting=false\n    cmdMessage=\'\'\n    robotProgramExecutionState=1 -- 0 is stopped, 1 is executing, 2 is paused\n    -- Now start the server:\n    serverHandle=startRobotServer(robotHandle,program,{0,0,0,0},{0.1,0.4})\nend\n\nprogram=[[REM ************************************************\nREM This is a very very simple robot language EXAMPLE!\nREM Following commands are supported (one command per line):\nREM -"REM" starts a comment line\nREM -"SETROTVEL v": sets the revolute joint velocity for next movements (in degrees/s)\nREM -"SETLINVEL v": sets the prismatic joint velocity for next movements (in meters/s)\nREM -"MOVE p1 p2 p3 p4": moves to joint positions (p1;p2;p3;p4) (in degrees or meter)\nREM -"WAIT x": waits x miliseconds\nREM -"SETBIT y": sets the bit at pos y in the output buffer\nREM -"CLEARBIT y": clears the bit at pos y in the output buffer\nREM -"IFBITGOTO y label": jumps to "label" position if bit at pos y is set in the input buffer\nREM -"IFNBITGOTO y label": jumps to "label" position if bit at pos y is not set in the input buffer\nREM -"GOTO label": jumps to "label" position\nREM any not recognized word is considered to be a label\nREM ************************************************\nSETROTVEL 45\nSETLINVEL 0.1\nMOVE 0 0 0 0\nPROGRAM_BEGIN_LABEL\nMOVE 0 0 0.03 0\nIFBITGOTO 1 LABEL1\nSETBIT 1\nLABEL1\nWAIT 500\nMOVE 0 0 0 0\nWAIT 250\nMOVE -160 -43.5 0 203.5\nWAIT 250\nMOVE -160 -43.5 0.03 203.5\nCLEARBIT 1\nWAIT 500\nMOVE -160 -43.5 0 203.5\nWAIT 250\nMOVE 160 43.5 0 -203.5\nWAIT 250\nMOVE 160 43.5  0.03 -203.5\nIFBITGOTO 1 LABEL2\nSETBIT 1\nLABEL2\nWAIT 500\nMOVE 160 43.5  0 -203.5\nGOTO LABEL1\n]]\n\n-- ***********************************************************************************************************************\n-- ***********************************************************************************************************************\n-- ***********************************************************************************************************************\n-- This script makes the link between the MTB robot and the simExtMtb.dll plugin. This script could be much\n-- shorter and simple, if everything was taken care of in the plugin. The advantage of handling many things here\n-- is that if something needs to be changed, the plugin doesn\'t require to be recompiled\n-- Following commands are registered by the MTB plugin:\n--\n-- number serverHandle,string msg=simMTB.startServer(string serverExecutable,number connectionPort,string programData,table_4 jointValues,table_2 initialJointVelocity)\n-- Starts a robot server, and compiles the program. If result>=0, the call was successful. Otherwise msg contains a compilation error message\n--\n-- boolean result=simMTB.stopServer(number serverHandle)\n-- Stops a robot server\n--\n-- number result,string info=simMTB.step(number serverHandle,number deltaTime)\n-- runs the robot language interpreter for deltaTime. if result==0, the program is running, if result==1 the program ended. Any other value means an error\n--\n-- table_4 jointValues=simMTB.getJoints(number serverHandle)\n-- returns the values of the robot\'s 4 axis\n--\n-- table_4 outputValues=simMTB.getOutput(number serverHandle)\n-- returns the 32 bits (4*8) of the robot\'s outputs\n--\n-- table_4 inputValues=simMTB.getInput(number serverHandle)\n-- returns the 32 bits (4*8) of the robot\'s inputs\n--\n-- number result=simMTB.setInput(number serverHandle,table_4 inputValues)\n-- writes the 32 bits (4*8) of the robot\'s inputs\n--\n-- boolean result=simMTB.connectInput(number inputServerHandle,number inputBitNumber,number outputServerHandle,number outputBitNumber,number connectionType)\n-- connects a robot\'s output bit to another robot\'s input bit. If connectionType~=0 the connection line invertes the bit state\n--\n-- boolean result=simMTB.disconnectInput(number inputServerHandle,number inputBitNumber)\n-- disconnects a connection previously done with simMTB.connectInput\n--\n-- ***********************************************************************************************************************\n-- ***********************************************************************************************************************\n-- ***********************************************************************************************************************\n\nfunction displayUiIfNeeded()\n    local objs=sim.getObjectSelection()\n    if objs~=nil and objs[#objs]==robotHandle then\n        createUi()\n    else\n        removeUi()\n    end\nend\n\nfunction createUi()\n    if ui==nil then\n        local xml = \'<ui title="\'..sim.getObjectAlias(robotHandle,1)..\'" closeable="false" resizeable="false" activate="false" placement="relative" position="-50,50">\'..[[\n            <tabs>\n                <tab title="Command">\n                    <group layout="hbox" flat="true">\n                        <button text="Start/Restart" on-click="start_callback" id="1"/>\n                        <button text="Pause" on-click="pause_callback" id="2"/>\n                        <button text="Stop" on-click="stop_callback" id="3"/>\n                    </group>\n                    <group layout="form" flat="true">\n                        <label text="Command" />\n                        <edit id="4" enabled="false"/>\n                    </group>\n                </tab>\n                <tab title="Joints">\n                    <group layout="form" flat="true">\n                        <label text="Joint 1" />\n                        <edit id="11" enabled="false"/>\n                        <label text="Joint 2" />\n                        <edit id="12" enabled="false"/>\n                        <label text="Joint 3" />\n                        <edit id="13" enabled="false"/>\n                        <label text="Joint 4" />\n                        <edit id="14" enabled="false"/>\n                    </group>\n                </tab>\n                <tab title="Input">\n                    <group layout="grid" flat="true">\n                    <label text="" />\n                    <label text="1" />\n                    <label text="2" />\n                    <label text="3" />\n                    <label text="4" />\n                    <label text="5" />\n                    <label text="6" />\n                    <label text="7" />\n                    <label text="8" />\n                    <br/>\n                    <label text="+00" />\n                    <checkbox text="" on-change="inputClicked_callback" id="101"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="102"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="103"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="104"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="105"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="106"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="107"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="108"/>\n                    <br/>\n                    <label text="+08" />\n                    <checkbox text="" on-change="inputClicked_callback" id="109"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="110"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="111"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="112"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="113"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="114"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="115"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="116"/>\n                    <br/>\n                    <label text="+16" />\n                    <checkbox text="" on-change="inputClicked_callback" id="117"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="118"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="119"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="120"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="121"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="122"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="123"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="124"/>\n                    <br/>\n                    <label text="+24" />\n                    <checkbox text="" on-change="inputClicked_callback" id="125"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="126"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="127"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="128"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="129"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="130"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="131"/>\n                    <checkbox text="" on-change="inputClicked_callback" id="132"/>\n                    </group>\n                </tab>\n                <tab title="Output">\n                    <group layout="grid" flat="true">\n                    <label text="" />\n                    <label text="1" />\n                    <label text="2" />\n                    <label text="3" />\n                    <label text="4" />\n                    <label text="5" />\n                    <label text="6" />\n                    <label text="7" />\n                    <label text="8" />\n                    <br/>\n                    <label text="+00" />\n                    <checkbox text="" enabled="false" id="201"/>\n                    <checkbox text="" enabled="false" id="202"/>\n                    <checkbox text="" enabled="false" id="203"/>\n                    <checkbox text="" enabled="false" id="204"/>\n                    <checkbox text="" enabled="false" id="205"/>\n                    <checkbox text="" enabled="false" id="206"/>\n                    <checkbox text="" enabled="false" id="207"/>\n                    <checkbox text="" enabled="false" id="208"/>\n                    <br/>\n                    <label text="+08" />\n                    <checkbox text="" enabled="false" id="209"/>\n                    <checkbox text="" enabled="false" id="210"/>\n                    <checkbox text="" enabled="false" id="211"/>\n                    <checkbox text="" enabled="false" id="212"/>\n                    <checkbox text="" enabled="false" id="213"/>\n                    <checkbox text="" enabled="false" id="214"/>\n                    <checkbox text="" enabled="false" id="215"/>\n                    <checkbox text="" enabled="false" id="216"/>\n                    <br/>\n                    <label text="+16" />\n                    <checkbox text="" enabled="false" id="217"/>\n                    <checkbox text="" enabled="false" id="218"/>\n                    <checkbox text="" enabled="false" id="219"/>\n                    <checkbox text="" enabled="false" id="220"/>\n                    <checkbox text="" enabled="false" id="221"/>\n                    <checkbox text="" enabled="false" id="222"/>\n                    <checkbox text="" enabled="false" id="223"/>\n                    <checkbox text="" enabled="false" id="224"/>\n                    <br/>\n                    <label text="+24" />\n                    <checkbox text="" enabled="false" id="225"/>\n                    <checkbox text="" enabled="false" id="226"/>\n                    <checkbox text="" enabled="false" id="227"/>\n                    <checkbox text="" enabled="false" id="228"/>\n                    <checkbox text="" enabled="false" id="229"/>\n                    <checkbox text="" enabled="false" id="230"/>\n                    <checkbox text="" enabled="false" id="231"/>\n                    <checkbox text="" enabled="false" id="232"/>\n                    </group>\n                </tab>\n            </tabs>\n            </ui>\n            ]]\n        ui=simUI.create(xml)\n    end\nend\n\nfunction removeUi()\n    if ui then\n        simUI.destroy(ui)\n        ui=nil\n    end\nend\n\nfunction updateUiIfNeeded()\n    if ui then\n        -- Update the main custom dialog:\n        -- The "run" button:\n        simUI.setEnabled(ui,1,robotProgramExecutionState~=1)\n        -- The "pause" button:\n        simUI.setEnabled(ui,2,robotProgramExecutionState==1)\n        -- The "stop" button:\n        simUI.setEnabled(ui,3,robotProgramExecutionState~=0)\n        -- The command label:\n        simUI.setEditValue(ui,4,cmdMessage)\n        -- The joint labels:\n        simUI.setEditValue(ui,11,string.format(\'%.2f\',jointPositions[1]*180/math.pi))\n        simUI.setEditValue(ui,12,string.format(\'%.2f\',jointPositions[2]*180/math.pi))\n        simUI.setEditValue(ui,13,string.format(\'%.4f\',jointPositions[3]))\n        simUI.setEditValue(ui,14,string.format(\'%.2f\',jointPositions[4]*180/math.pi))\n        \n        -- Update (read and write) the IN/OUT custom dialog:\n        if MTBModuleFound then\n            for i=0,3,1 do\n                for j=0,7,1 do\n                    if ((inputData[1+i]&(2^j))~=0) then\n                        simUI.setCheckboxValue(ui,101+j+i*8,2)\n                    else\n                        simUI.setCheckboxValue(ui,101+j+i*8,0)\n                    end\n                    if ((outputData[1+i]&(2^j))~=0) then\n                        simUI.setCheckboxValue(ui,201+j+i*8,2)\n                    else\n                        simUI.setCheckboxValue(ui,201+j+i*8,0)\n                    end\n                end\n            end\n        end\n    end\nend\n\nstartRobotServer=function(theRobotHandle,theProgram,initJoints,initVel)\n    -- Find a (hopefully) free port:\n    local portNb=sim.getInt32Param(sim.intparam_server_port_next)\n    local portStart=sim.getInt32Param(sim.intparam_server_port_start)\n    local portRange=sim.getInt32Param(sim.intparam_server_port_range)\n    local newPortNb=portNb+1\n    if (newPortNb>=portStart+portRange) then\n        newPortNb=portStart\n    end\n    sim.setInt32Param(sim.intparam_server_port_next,newPortNb)\n    -- Start the server:\n    local serverHandle,errorMsg=simMTB.startServer(\'mtbServer\',portNb,theProgram,initJoints,initVel)\n    if serverHandle<0 then\n        -- We have a problem. Display the message:\n        sim.addLog(sim.verbosity_scripterrors,\'Robot \\\'\'..robotName..\'\\\' caused a program compilation error: \'..errorMsg)\n    end\n    -- Now write the server handle to the robot object, so that other objects can access that handle too:\n    sim.writeCustomDataBlock(theRobotHandle,\'@tmpMTBSERVERHANDLE\',sim.packInt32Table({serverHandle}))\n    return serverHandle\nend\n\nfunction start_callback()\n    -- "Run" was pressed\n    if (robotProgramExecutionState==0) then\n        robotProgramExecutionState=1\n    else\n        if (robotProgramExecutionState==2) then robotProgramExecutionState=1 end\n    end\nend\n\nfunction pause_callback()\n    -- "Pause" was pressed\n    if (robotProgramExecutionState==1) then robotProgramExecutionState=2 end\nend\n\nfunction stop_callback()\n    -- "Stop" was pressed\n    if (robotProgramExecutionState~=0) then\n        robotProgramExecutionState=0\n        restarting=true\n        cmdMessage=\'\'\n    end\nend\n\nfunction inputClicked_callback(ui,id,newVal)\n    inputData[1+math.floor((id-101)/8)]=(inputData[1+math.floor((id-101)/8)]~(2^math.mod(id-101,8)))\n    simMTB.setInput(serverHandle,inputData)\nend\n\n\nfunction sysCall_cleanup()\n    sim.writeCustomDataBlock(robotHandle,\'@tmpMTBSERVERHANDLE\',nil)\n    if serverHandle>=0 then\n        simMTB.stopServer(serverHandle)\n    end\n    removeUi()\nend \n\nfunction sysCall_actuation()\n    displayUiIfNeeded()\n    -- Following section is where the script is communicating with the extension module:\n    -- #################################################################################\n    if MTBModuleFound and serverHandle>=0 then\n        if (robotProgramExecutionState>0) then\n            dt=sim.getSimulationTimeStep()\n            if (robotProgramExecutionState==2) then dt=0 end -- When pausing, we simply set dt to zero!\n    \n            if (restarting) then\n                -- Reset the robot and interpreter:\n                simMTB.stopServer(serverHandle)\n                serverHandle=startRobotServer(robotHandle,program,{0,0,0,0},{0.1,0.4})\n                restarting=false\n            else\n                -- Handle the robot program (simMTB.run is a custom Lua command defined in the simExtMtb.dll extension module):\n                result,cmdMessage,newJointPositions=simMTB.step(serverHandle,dt)\n                if (result~=-1) then\n                    -- program executes fine\n                    -- Read the joint values and the robot\'s output (simMTB.getJoints and simMTB.getOutput are custom Lua command defined in the simExtMtb.dll extension module):\n                    jointPositions=simMTB.getJoints(serverHandle)\n                    outputData=simMTB.getOutput(serverHandle)\n                    if (result==1) then\n                        -- program end\n                        robotProgramExecutionState=0\n                        restarting=true\n                        cmdMessage=\'\'\n                    end\n                end\n            end\n        end\n    \n        -- Read the robot\'s input (simMTB.getInput is a custom Lua command defined in the simExtMtb.dll extension module):\n        inputData=simMTB.getInput(serverHandle)\n    end\n    -- ---------------------------------------------------------------------------------\n    \n    -- Report the new joint positions to the MTB robot:\n    for i=1,4,1 do\n        sim.setJointPosition(jointHandles[i],jointPositions[i])\n    end\n    \n    updateUiIfNeeded()\nend \n \n \n', 'tags': '', 'url': '控制碼.html'}, {'title': 'XML', 'text': '', 'tags': '', 'url': 'XML.html'}, {'title': '分析', 'text': '\n \n', 'tags': '', 'url': '分析.html'}]};